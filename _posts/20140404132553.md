---
ID: 1170
post_title: '[JavaScript] 表示ページのファイル名を取得する方法'
published: true
post_date: 2014-04-04 13:25:53
modified_date: 2015-02-28 22:30:47
slug: 20140404132553.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:384;s:4:\"name\";s:10:\"JavaScript\";s:4:\"slug\";s:10:\"javascript\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:402;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:53;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:384;s:14:\"category_count\";i:53;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:10:\"JavaScript\";s:17:\"category_nicename\";s:10:\"javascript\";s:15:\"category_parent\";i:0;}"
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:14;s:4:\"name\";s:15:\"\u30D7\u30ED\u30B0\u30E9\u30E0\";s:4:\"slug\";s:7:\"program\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:14;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:121;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:14;s:14:\"category_count\";i:121;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:15:\"\u30D7\u30ED\u30B0\u30E9\u30E0\";s:17:\"category_nicename\";s:7:\"program\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  --- []
  ...
---
ファイル名を取得する場合、サーバサイドで取得しておくパターンとフロントエンドで取得するパターンがあるかと思います。
表示されているページのファイル名を取得して何かする事といえば、メニューの装飾をページによって変える、とかそれぐらいしか思い浮かびませんが…
<!--more-->
<h2>方法</h2>
色々と方法はあるかと思いますが、ここでは簡単にPHPとJavaScriptでの方法を記載します。

<h3>PHP</h3>
<pre class="language-php"><code>basename($_SERVER['SCRIPT_NAME']);</code></pre>

<code>$_SERVER['SCRIPT_NAME']</code>で現在のスクリプトのパスを取得し、そのパスから<code>basename</code>で最後にある名前の部分を取得。

<h3>JavaScript</h3>
<pre class="language-javascript"><code>function getFileName() {
    return window.location.href.split('/').pop();
}</code></pre>

<code>window.location.pathname</code>でホスト以下のパスを取得し、それを<code>split('/')</code>で「/(スラッシュ)」区切りで配列に入れ、<code>pop()</code>で配列の最後の値を取得する。

<h6>正規表現</h6>
こういう方法もあるっぽいです。
<pre class="language-javascript"><code>function getFileName() {
    return window.location.href.match(".+/(.+?)([\?#;].*)?$")[1];
}
</code></pre>