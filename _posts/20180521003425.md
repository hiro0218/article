---
ID: 3616
post_title: '[webpack] バンドルされるLodashのサイズを減らす方法'
author: hiro
layout: post
permalink: https://b.0218.jp/20180521003425.html
published: true
post_date: 2018-05-21 00:34:25
modified_date: false
slug: 20180521003425.html
---
## 概要

Lodashの一部のモジュールを使用した場合でも全てのモジュールをバンドルしてしまいファイルサイズが肥大化してしまう。

私の環境下では`cloneDeep`のみを使用していたので、それだけバンドルされるようにする。

## 設定方法

`import { cloneDeep } from 'lodash';`と記述しても上手く Tree Shaking されないため、[lodash-webpack-plugin](https://github.com/lodash/lodash-webpack-plugin)を利用する。

設定は下記にような形で行う。

### webpack.config.js
```language-js
const LodashModuleReplacementPlugin = require(&#039;lodash-webpack-plugin&#039;);

module.exports = {
  &#039;plugins&#039;: [
    new LodashModuleReplacementPlugin(),
  ]
};
```

### .babelrc
```language-json
{
  &quot;plugins&quot;: [
    [&quot;lodash&quot;]
  ]
}
```

---

あとはこれまで通り、下記のように特定のモジュールを読み込むだけでOK

```language-js
import { cloneDeep } from &#039;lodash&#039;;
```