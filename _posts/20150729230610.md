---
ID: 2076
post_title: '[WordPress] WP-CLI でエラーが出た時の対処方法'
published: true
post_date: 2015-07-29 23:06:10
modified_date: 2015-07-29 23:06:10
slug: 20150729230610.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:76;s:4:\"name\";s:9:\"WordPress\";s:4:\"slug\";s:9:\"wordpress\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:78;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:37;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:76;s:14:\"category_count\";i:37;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:9:\"WordPress\";s:17:\"category_nicename\";s:9:\"wordpress\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  ---
  - !php/object "O:7:\"WP_Term\":10:{s:7:\"term_id\";i:421;s:4:\"name\";s:9:\"WordPress\";s:4:\"slug\";s:9:\"wordpress\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:79;s:8:\"taxonomy\";s:8:\"post_tag\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:36;s:6:\"filter\";s:3:\"raw\";}"
  - !php/object "O:7:\"WP_Term\":10:{s:7:\"term_id\";i:415;s:4:\"name\";s:6:\"WP-CLI\";s:4:\"slug\";s:6:\"wp-cli\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:433;s:8:\"taxonomy\";s:8:\"post_tag\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:4;s:6:\"filter\";s:3:\"raw\";}"
  ...
---
以下の様な長文のエラーが表示される場合の話。
<!--more-->
<h2>対処方法</h2>
<h3>エラーメッセージの理由</h3>
<pre class="cmd">Error: YIKES! It looks like you&#039;re running this as root. You probably meant to run this as the user that your WordPress install exists under.

If you REALLY mean to run this as root, we won&#039;t stop you, but just bear in mind that any code on this site will then have full control of your server, making it quite DANGEROUS.

If you&#039;d like to continue as root, please run this again, adding this flag:  --allow-root

If you&#039;d like to run it as the user that this site is under, you can run the following to become the respective user:

    sudo -u USER -i -- wp &lt;command&gt;</pre>

きちんと読めばここに載っているのだけれども、行数が長いと読み飛ばしてしまう人もいるはず。
「root で実行すると危なくない？いいの？」って感じの内容。

対処方法は コマンドに<code>--allow-root</code>を付けるだけ。
たぶんroot権限のユーザで実行しているんじゃないかしら。

<h3>実行するコマンド</h3>
<pre class="cmd">wp core check-update --allow-root</pre>