---
ID: 3877
post_title: '[html] inputの入力候補をdatalistで実装する方法'
published: true
post_date: 2018-10-09 11:43:01
modified_date: 2018-10-09 11:43:01
slug: 20181009114301.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:527;s:4:\"name\";s:4:\"HTML\";s:4:\"slug\";s:4:\"html\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:535;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:4;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:527;s:14:\"category_count\";i:4;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:4:\"HTML\";s:17:\"category_nicename\";s:4:\"html\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  --- false
  ...
---
## 対象仕様

- HTML5 に対応したモダンブラウザ
- ブラウザ標準の簡素なUI

<!--more-->

## detalistを使う

`<datalist>`要素を使用することで仕様から外れたDOMを実装したり、JSを走らせずに済む。

`<datalist>`は、フォームの入力欄などで入力候補となるデータリストを定義することができる。

```language-html
&lt;input type=&quot;text&quot; list=&quot;browsers&quot;&gt;
&lt;datalist id=&quot;browsers&quot;&gt;
  &lt;option value=&quot;1&quot;&gt;
  &lt;option value=&quot;2&quot;&gt;
  &lt;option value=&quot;3&quot;&gt;
  &lt;option value=&quot;4&quot;&gt;
  &lt;option value=&quot;5&quot;&gt;
&lt;/datalist&gt;
```

`datalist`と`input`は、`list`属性と`id`属性で紐づけ、対象のリスト項目は、`<option>`で定義する。
`<datalist>～</datalist>`はブラウザ上で非表示となる。 

---

未対応のレガシーブラウザ用にpolyfill（[datalist-polyfill](https://github.com/mfranzke/datalist-polyfill)）もある。

## デモ

<iframe height='265' scrolling='no' title='datalist sample' src='//codepen.io/hiro0218/embed/bmggab/?height=265&theme-id=0&default-tab=result' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/hiro0218/pen/bmggab/'>datalist sample</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

input要素をダブルクリックすると候補が表示される。