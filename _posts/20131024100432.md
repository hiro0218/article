---
ID: 676
post_title: '[JavaScript] 理由:Uncaught TypeError: Object [hoge] has no method &#8216;replace&#8217;'
published: true
post_date: 2013-10-24 10:04:32
modified_date: 2015-02-28 22:30:46
slug: 20131024100432.html
---
<pre><strong>Uncaught TypeError: Object [hoge] has no method 'replace'</strong></pre>
<p><!--more--></p>
<h2>状況</h2>
<p>&#8220;.&#8221;や&#8221;-&#8220;を取り除く関数を実行した際に発生</p>
<pre><code class="language-javascript">function trimSymbol(numStr){
  return numStr.replace(/./g, "").replace(/-/, "");
}
</code></pre>
<h2>理由</h2>
<p>Objectに対して、Stringの<code>replace()</code>を使用した事が原因。<br />
前述のコードだと<code>numStr</code>がStringではなくObjectだった。</p>
<p>参考: <a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/replace">String.prototype.replace() &#8211; JavaScript | MDN:</a></p>
<h2>解決方法</h2>
<p>String型に変換するか、String型以外は弾くような処理をする必要がある。</p>
<p>単純な解決方法は以下。</p>
<pre><code class="language-javascript">function trimSymbol(num){
  return String(num).replace(/./g, "").replace(/-/, "");
}
</code></pre>
<p>やはり万全を期して、型チェックをしてから確認を行うべき。</p>