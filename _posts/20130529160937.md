---
ID: 641
post_title: '[jQuery] visibleToggle()を実装する方法'
published: true
post_date: 2013-05-29 16:09:37
modified_date: 2017-03-22 22:44:02
slug: 20130529160937.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:383;s:4:\"name\";s:6:\"jQuery\";s:4:\"slug\";s:6:\"jquery\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:401;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:16;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:383;s:14:\"category_count\";i:16;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:6:\"jQuery\";s:17:\"category_nicename\";s:6:\"jquery\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  ---
  - jQuery
  ...
---
## 概要
jQuery の`toggle()` は、指定要素を非表示・表示を切り替えるイベントである。jQueryとして`toggle()` は、v1.9で廃止されてしまったが、`toggle()`系のイベントといえば、他に`toggleClass()`、`slideToggle()`、`fadeToggle()`などがあり、これらも同じように状態を切り替える（toggle）イベントである。

`toggle()`に関していえば、displayプロパティの`none` / `block`を切り替える。ただ、displayがnoneになると、「要素が存在しない」状態になるため、要素が隣接しているとレイアウトが崩れてしまう場合が多い。単純に要素を視覚的に非表示させたい場合に使用するのは visibilityプロパティである。

jQueryに、visibilityプロパティを操作するAPIは今のところはないため、作成する。

## コード
以下のコードを定義する。
```language-javascript
(function($) {
  $.fn.visibleToggle = function() {
    return this.css(&#039;visibility&#039;, function(i, visible) {
      return (visible == &#039;visible&#039;) ? &#039;hidden&#039; : &#039;visible&#039;;
    });
  };
})(jQuery);
```

そして、以下のように使用することで要素のvisibilityプロパティを切り替える事ができる。
```language-javascript
$(&quot;#VisibleTest&quot;).visibleToggle();
```

### 実装内容
指定要素のvisibilityプロパティの状態によって`visible ` / `hidden ` を切り替える。