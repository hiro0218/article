---
ID: 547
title: '[Java] Servletとの非同期通信(Ajax)で文字化けした時の対処方法'
published: true
date: 2012-11-16 11:40:40
updated: 2014-06-20 10:33:09
slug: 20121116114040.html
categories:
  - プログラム
tags:
  - Java
---
<!--more-->
## 現象
`㈱`が`?`に文字化けした。　<span class="text-muted">(株)</span>

```
「ホゲホゲ㈱」⇒「ホゲホゲ?」
```

## 環境
* 文字コードが`Shift-JIS`
* 発生は、IEのみ

ちなみに文字コードが`UTF-8`であれば問題なかった。


## 解決方法
現象としては、文字コードを`Windows-31J`にすると、IEだけ文字化けする。
調べてみると、IEは`Windows-31J`でないと駄目みたい(IE9でもこの仕様っぽい)で、IEに対応するには文字コードの指定を`csWindows31J`してやる必要がある。

以下のコードをServletに追加。

```language-java
response.setContentType("text/html; charset=csWindows31J");
```