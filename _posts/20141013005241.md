---
ID: 1407
post_title: '[ConoHa] WindowsでSSH接続する方法'
published: true
post_date: 2014-10-13 00:52:41
modified_date: 2014-10-20 00:29:26
slug: 20141013005241.html
---
<p><a href="https://www.conoha.jp/conoha"><img decoding="async" lazyload="lazy" src="https://b.0218.jp/images/ConoHa.png" alt="ConoHa トップページ" /></a><br />
Windows用の端末エミュレータ(<a href="http://bliker.github.io/cmder/">cmder</a>)を使用している。なので、Macのターミナル同様に<code>ssh</code>コマンドで接続したい。<br />
Macの情報はたくさんあるけど、Windowsでこの手の情報は見当たらなかったので書き留めておく。</p>
<p><a href="https://www.conoha.jp/referral/?token=VPasr7VXcnZ9LaAqM2i2mE8oWYJae09uLFuUtg2LqknoSZLfTbc-88W" target="_blank">ConoHa</a>を契約したので基本的にConoHaに沿って書いている。他のVPSなどでも応用は効くと思う。<span class="text-muted">(鍵を用意していれば)</span><br />
<!--more--></p>
<h2>TeraTermで接続する方法</h2>
<p>公式の「<a href="https://www.conoha.jp/guide/guide.php?g=8" target="_blank">SSH接続設定例：TeraTerm &#8211; ConoHa</a>」にある通り、接続情報とコントロールパネルからダウンロードしたPrivate Keyを[RSA/DSA鍵を使う]で選択して接続する。</p>
<p>公式の手順に沿ってやれば簡単に接続できる。</p>
<h2>SSHコマンドで接続する方法</h2>
<p><code>ssh</code>で接続する。</p>
<blockquote>
<pre>ssh [-l user] [-i file] [-p port] [-x] host [command [arg...]] </pre>
<footer>引用元:『<a href="http://itpro.nikkeibp.co.jp/article/COLUMN/20060227/230889/" target="_blank">Linuxコマンド集 &#8211; 【 ssh 】 SSHでリモート・マシンのコマンドを実行する：ITpro</a>』より</footer>
</blockquote>
<h3>鍵を用意する</h3>
<p>ConoHaコントロールパネルで、「SSH Key Pair」から[Private Keyダウンロード]で鍵をダウンロードしておく。<br />
(<a href="https://www.conoha.jp/guide/guide.php?g=8" target="_blank">SSH接続設定例：TeraTerm &#8211; ConoHa</a>の手順同様)</p>
<p>とりあえず「conohavps.key」という名前で以下に保存する。(任意)</p>
<pre>C:\Users\ユーザー名\.ssh</pre>
<h3>~/.ssh/config 設定する</h3>
<p>色々と鍵を管理するのも手間なので<code>~/.ssh/config</code>に記述する。</p>
<p>移動する。</p>
<pre>cd C:\Users\ユーザー名\.ssh</pre>
<p>こんな感じでconfigファイルを編集する。(なければ作る)</p>
<pre>
Host conoha
  HostName <b>consoleXXXX.cnode.jp</b>
  User root
  Port 22
  IdentityFile <b>~/.ssh/conohavps.key</b>
</pre>
<p><code>HostName</code>は、ConoHaコントロールパネルの「DNS逆引き設定」からホスト名の欄で確認できる。</p>
<h3>ssh 接続する</h3>
<p>前述のHostで指定した名称で接続できるようになる。</p>
<pre>ssh conoha</pre>
<hr>
<p>取り敢えず接続できるようになったので、rootユーザじゃなくて別に新しくユーザーを作成しておこう。</p>