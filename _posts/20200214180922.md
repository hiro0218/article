---
ID: 4391
post_title: '[HTML] <template>要素について'
published: true
post_date: 2020-02-14 18:09:22
modified_date: 2020-02-14 18:09:22
slug: 20200214180922.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:527;s:4:\"name\";s:4:\"HTML\";s:4:\"slug\";s:4:\"html\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:535;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:4;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:527;s:14:\"category_count\";i:4;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:4:\"HTML\";s:17:\"category_nicename\";s:4:\"html\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  ---
  - !php/object "O:7:\"WP_Term\":10:{s:7:\"term_id\";i:68;s:4:\"name\";s:4:\"HTML\";s:4:\"slug\";s:4:\"html\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:69;s:8:\"taxonomy\";s:8:\"post_tag\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:13;s:6:\"filter\";s:3:\"raw\";}"
  - !php/object "O:7:\"WP_Term\":10:{s:7:\"term_id\";i:549;s:4:\"name\";s:8:\"template\";s:4:\"slug\";s:8:\"template\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:557;s:8:\"taxonomy\";s:8:\"post_tag\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:2;s:6:\"filter\";s:3:\"raw\";}"
  ...
---
## template要素とは

> **HTML のコンテンツテンプレート (`<template>`) 要素** は、すなわちページの読み込み時にすぐには描画されないものの、後で JavaScript を使用してインスタンスを生成できる [HTML](https://developer.mozilla.org/ja/docs/Glossary/HTML) を保持するメカニズムです。

> テンプレートは、文書内に格納されたコンテンツの断片として考えてください。ページの読み込み時にパーサーが **`<template>`** 要素の内容を処理している間、その内容の有効性のみが検証されます。しかし、要素の内容は描画されません。

[https://developer.mozilla.org/ja/docs/Web/HTML/Element/template](https://developer.mozilla.org/ja/docs/Web/HTML/Element/template)

## template要素の特徴

1. コンテンツはDOMに展開されるまで動作しない  
→ メモリー上に存在するだけでレンダリングされない
2. `<template>`内のコンテンツは反応しない：
    1. `<script>`は動作しない 
    2. `<img>`の読み込みは発生しない
    3. `<audio>`は再生されない 
などなど…
3. `<template>`内のコンテンツはDOMツリー状に存在しないため、`document.getElementById()` や `querySelector()` で取得することが出来ない

[https://www.html5rocks.com/ja/tutorials/webcomponents/template/](https://www.html5rocks.com/ja/tutorials/webcomponents/template/)

## 使い方

```html
&lt;template class=&quot;template-element&quot;&gt;
  &lt;img src=&quot;//example.com/image.png&quot; alt=&quot;sugoi gazou&quot;&gt;
&lt;/template&gt;
```

```js
// &lt;template&gt;要素から取得
const template = document.querySelector(&quot;.template-element&quot;);
const clone = document.importNode(template.content, true);
const img = clone.querySelector(&quot;img&quot;);

// DOMツリーへの挿入
document.body.appendChild(img);
```

## その他

```html
&lt;template&gt;
  &lt;div&gt;
    &lt;template&gt;
      &lt;div&gt;inner template&lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;
```

外側の`template`をアクティベートしても、内側の`template`はアクティベートされない。