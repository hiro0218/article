---
title: "竈門炭治郎をCSSだけで再現する"
date: 2020-12-23 00:00:00
updated: 2020-12-23 00:00:00
categories:
  - Dev
tags:
  - CSS
---

<div class="c-alert">
本稿は、[ZOZOテクノロジーズ #4 Advent Calendar 2020](https://qiita.com/advent-calendar/2020/zozo_tech4) 23日目の記事です。
</div>

## 竈門炭治郎とは

「鬼滅の刃」という漫画の作中でキャラクターたちが愛用している羽織は特徴的な模様が多い。

作中に炭焼きをし家族の暮らしを支える「竈門炭治郎」という少年がいる。中でも炭治郎の羽織の模様は特徴的で作品を知らない人でも**緑と黒の市松模様**は目にしたことがあるだろう。
市松模様は、古来より織模様として存在しており、2020 年東京オリンピックの随所で市松模様をモチーフにしたデザインが取り入れられていることも記憶に新しい。

今回は、そんな日本の伝統的な柄である竈門炭治郎（緑と黒の市松模様）を CSS だけで再現してみる。

## 完成品

まず完成したものを始めにお見せする。

<iframe height="640" style="width: 100%;" scrolling="no" title="Tanjiro Kamado" src="https://codepen.io/hiro0218/embed/JjKWEjG?height=640&theme-id=light&default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/hiro0218/pen/JjKWEjG'>Tanjiro Kamado</a> by hiro
  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

これが竈門炭治郎だ。

## 実装方法

### 概要

実装仕様は下記の通り。

- CSS
  - `background-color`
  - `background-image`
  - `background-position`
  - `background-size`

緑と黒の市松模様を JavaScript を利用して動的に組み合わせたり、HTML 要素を複数組み合わせたりするわけではなく、単一の要素（body 要素）に対して背景色を実装するだけで再現をしていく。

### 実装内容

<!-- prettier-ignore -->
```css
body {
  /* 変数 */
  --color-green: #58ba97;
  --color-black: #2c2421;
  --square-size: 400px;

  /* 実装 */
  width: 100%;
  height: 100%;
  background-color: var(--color-green);
  background-image: 
    repeating-linear-gradient(45deg, var(--color-black) 25%, transparent 25%, transparent 75%, var(--color-black) 75%, var(--color-black)),
    repeating-linear-gradient(45deg, var(--color-black) 25%, transparent 25%, transparent 75%, var(--color-black) 75%, var(--color-black));
  background-position: 0 0, calc(var(--square-size) / 2) calc(var(--square-size) / 2);
  background-size: var(--square-size) var(--square-size);
}
```

## 解説

市松模様は、`background-color`と`background-image`を用いてを行う。

おおまかなイメージとしては、三角形の組み合わせで市松模様の黒い四角形を表現している。

1. `◥`と`◣`の組み合わせ、`◣`と`◥`の組み合わせを配置する
1. 三角の位置を調整して`■`になるよう交差させて配置しなおす

### 緑色

全体的な背景色として緑色（`#58ba97`）を指定する。

```css
background-color: #58ba97;
```

後述になるが、黒塗り部分は`background-image`で再現するため、ここでは緑色の定義のみで完了となる。

### 黒色と交差

先述で定義した緑色の上に重ねる形で市松模様の黒色（`#2c2421`）部分を定義する。

<!-- prettier-ignore -->
```css
body {
  background-image:
    repeating-linear-gradient(45deg, #2c2421 25%, transparent 25%, transparent 75%, #2c2421 75%, #2c2421),
    repeating-linear-gradient(45deg, #2c2421 25%, transparent 25%, transparent 75%, #2c2421 75%, #2c2421);
}
```

`background-image`にはカンマ区切りで複数指定ができる。今回は`repeating-linear-gradient()`を用いて作成した三角形を二箇所に指定する。

<figure>
  <img src="https://user-images.githubusercontent.com/3617124/102741394-9097fd00-4395-11eb-9f56-158ab4dee845.png" alt="repeating-linear-gradient 2"  width="50%" />
  <figcaption><code>repeating-linear-gradient()</code>で作成した三角形</figcaption>
</figure>

次に 2 つの三角形が交差するように`background-position`で配置をずらして四角形を作成する。

```css
body {
  background-position: 0 0, 200px 200px;
}
```

| パターン（1）                                                                                                                                                    | パターン（2）                                                                                                                                                    | 合成後（1）+（2）                                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| <img src="https://user-images.githubusercontent.com/3617124/102741394-9097fd00-4395-11eb-9f56-158ab4dee845.png" alt="repeating-linear-gradient 2" width="50%" /> | <img src="https://user-images.githubusercontent.com/3617124/102741386-8d9d0c80-4395-11eb-8456-31cb9a9fb389.png" alt="repeating-linear-gradient 1" width="50%" /> | <img src="https://user-images.githubusercontent.com/3617124/102742062-57608c80-4397-11eb-9d1b-ad577078f4cf.png" alt="checered pattern" width="50%" /> |

### background-size

幅と高さを指定する。

```css
background-size: 400px 400px;
```

## まとめ

---

## 参考

- https://developer.mozilla.org/ja/docs/Web/CSS/background-color
- https://developer.mozilla.org/ja/docs/Web/CSS/background-image
- https://developer.mozilla.org/ja/docs/Web/CSS/background-size
- https://developer.mozilla.org/ja/docs/Web/CSS/background-position
- https://developer.mozilla.org/ja/docs/Web/CSS/repeating-linear-gradient()
