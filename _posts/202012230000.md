---
title: "竈門炭治郎をCSSだけで再現する"
date: 2020-12-23 00:00:00
updated: 2020-12-23 00:00:00
categories:
  - Dev
tags:
  - CSS
---

<div class="c-alert">
本稿は、[ZOZOテクノロジーズ #4 Advent Calendar 2020](https://qiita.com/advent-calendar/2020/zozo_tech4) 23日目の記事です。
</div>

## 竈門炭治郎とは

「鬼滅の刃」という漫画の作中でキャラクターたちが愛用している羽織は、特徴的な模様が多い。

作中に炭焼きをし家族の暮らしを支える「竈門炭治郎」という少年がいる。中でも炭治郎の羽織の模様は、作品を知らない人でも**緑と黒の市松模様**は目にしたことがあるだろう。
市松模様は、格子模様の一種で二色の四角形を交互に配置した模様であり、日本では古代より織模様として存在していたらしい。2020 年東京オリンピックの随所で市松模様をモチーフにしたデザインが取り入れられていることも記憶に新しい。

今回は、そんな日本の伝統的な柄である竈門炭治郎（緑と黒の市松模様）を CSS だけで再現してみる。

## 完成品

まず完成したものを始めにお見せする。

<iframe height="640" style="width: 100%;" scrolling="no" title="Tanjiro Kamado" src="https://codepen.io/hiro0218/embed/JjKWEjG?height=640&theme-id=light&default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/hiro0218/pen/JjKWEjG'>Tanjiro Kamado</a> by hiro
  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

これが竈門炭治郎だ。

## 実装方法

### 概要

実装仕様は下記の通り。

- CSS

HTML 要素を複数組み合わせたり、JavaScript を利用して、緑と黒の市松模様と交互に並べる…というものではない。

### 実装内容

<!-- prettier-ignore -->
```css
body {
  /* 変数 */
  --color-green: #58ba97;
  --color-black: #2c2421;
  --square-size: 400px;

  /* 実装 */
  width: 100%;
  height: 100%;
  background-color: var(--color-green);
  background-image: 
    repeating-linear-gradient(45deg, var(--color-black) 25%, transparent 25%, transparent 75%, var(--color-black) 75%, var(--color-black)),
    repeating-linear-gradient(45deg, var(--color-black) 25%, transparent 25%, transparent 75%, var(--color-black) 75%, var(--color-black));
  background-position: 0 0, calc(var(--square-size) / 2) calc(var(--square-size) / 2);
  background-size: var(--square-size) var(--square-size);
}
```

## 解説

市松模様は、`background-color`と`background-image`を用いてを行う。

おおまかなイメージとしては、三角形の組み合わせで市松模様の黒い四角形を表現している。

- `◤`と`◢`の組み合わせで`■`、`◣`と`◥`の組み合わせで`■`を構成
- 交差するように三角の位置を調整して配置する

### background-color

全体的な背景色として緑色（`#58ba97`）を指定する。

```css
background-color: #58ba97;
```

後述になるが黒塗り部分は`background-image`で再現するため、ここでは緑色の定義のみ。緑色部分の模様についてはこの定義で完了となる。

### background-image

`background-image`は、背景画像をカンマ区切りで複数指定ができる。

画像は使わず `repeating-linear-gradient()` を使って市松模様の黒塗り部分を再現する。

<!-- prettier-ignore -->
```css
background-image: 
  repeating-linear-gradient(45deg, #2c2421 25%, transparent 25%, transparent 75%, #2c2421 75%, #2c2421),
  repeating-linear-gradient(45deg, #2c2421 25%, transparent 25%, transparent 75%, #2c2421 75%, #2c2421);
```

#### repeating-linear-gradient

```
repeating-linear-gradient(方向, 色 始点の位置, 色 終点の位置);
```

```css
/* 
  45度方向に軸を延ばし、緑で始め赤で終わり、
*/
background-image: repeating-linear-gradient(
  45deg,
  #2c2421 25%,
  transparent 25%,
  transparent 75%,
  #2c2421 75%,
  #2c2421
);
```

- 2 つの repeating-linear-gradient を重ねるため、transparent が必要。

<iframe height="482" style="width: 100%;" scrolling="no" title="Tanjiro Kamado (checkered pattern parts - 1)" src="https://codepen.io/hiro0218/embed/abmwLZe?height=482&theme-id=light&default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/hiro0218/pen/abmwLZe'>Tanjiro Kamado (checkered pattern parts - 1)</a> by hiro
  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

<iframe height="482" style="width: 100%;" scrolling="no" title="Tanjiro Kamado (checkered pattern parts - 2)" src="https://codepen.io/hiro0218/embed/dypRVNM?height=482&theme-id=light&default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/hiro0218/pen/dypRVNM'>Tanjiro Kamado (checkered pattern parts - 2)</a> by hiro
  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

---

ちなみに`linear-gradient()`でも下記のような実装で同様の表現が可能。

<!-- prettier-ignore -->
```css
/* linear-gradientの場合 */
background-image: 
  linear-gradient(45deg, #2c2421 25%, transparent 25%),
  linear-gradient(-45deg, #2c2421 25%, transparent 25%),
  linear-gradient(45deg, transparent 75%, #2c2421 75%),
  linear-gradient(-45deg, transparent 75%, #2c2421 75%);
/* background-position指定などは異なる */
```

### background-position

```css
background-position: 0 0, 200px 200px;
```

交差させる。

### background-size

幅と高さを指定する。

```css
background-size: 400px 400px;
```

## まとめ

---

- https://developer.mozilla.org/ja/docs/Web/CSS/background-color
- https://developer.mozilla.org/ja/docs/Web/CSS/background-image
- https://developer.mozilla.org/ja/docs/Web/CSS/linear-gradient()
- https://developer.mozilla.org/ja/docs/Web/CSS/background-position
- https://developer.mozilla.org/ja/docs/Web/CSS/background-size
