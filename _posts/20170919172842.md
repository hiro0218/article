---
ID: 3243
post_title: >
  さすがに`jQuery.noConflict()`は、もう止めよう
published: true
post_date: 2017-09-19 17:28:42
modified_date: 2017-09-19 17:28:42
slug: 20170919172842.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:383;s:4:\"name\";s:6:\"jQuery\";s:4:\"slug\";s:6:\"jquery\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:401;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:16;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:383;s:14:\"category_count\";i:16;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:6:\"jQuery\";s:17:\"category_nicename\";s:6:\"jquery\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  ---
  - jQuery
  ...
---
## 概要
レガシーなコードを受け継いできたプロジェクトに散見される `jQuery.noConflict` 。今現在これを使用するメリットは全くなく、もはやデメリットすらあるこの1行を駆逐していきたいと思っている。(jQuery本体の不要論は置いといて)

<!--more-->

## 使われていた理由
jQueryは他ライブラリ（主にprototype.js）と競合する。`$`が競合してしまうのだが、これを回避する為に使われるのが`jQuery.noConflict`だった。jQuery自身の`$`を使用する事を回避し競合を避けていた。

prototype.jsやjQueryが使われ始めた当初、併用されるのが珍しくなかった為、こういった対応が必要であったのだが、それから prototype.js が完全に死に使われなくなった事で`jQuery.noConflict`は不要となっていった。

### 使われ方
色々と使い方はあるが、だいたい以下のような形で使われている。

```language-js
jQuery.noConflict();

(function($) {
	console.log(&#039;Hello&#039;);
})(jQuery);
```

一度、変数に入れて使われていたりもする。
```language-js
var $j = jQuery.noConflict();
$j(&#039;#hoge&#039;).fadeIn();
```

## やめる
先述の通り、 prototype.js を使っていない（`$`に依存したライブラリを使用していない）場合は、完全にこの`jQuery.noConflict();`は不要である。
オマジナイ的に使用しているのであれば消したほうが良い。少量ながらコード量は減るし、DevToolsから`$`を使ったjQueryの実行も出来るようになる。

### 方法
対応として基本的には、`jQuery.noConflict();	`の1行を消すだけで問題ないが、別の変数に格納している場合は、加えて変数の置換作業が必要となる。