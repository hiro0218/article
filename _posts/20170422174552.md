---
ID: 3025
title: '[Movable Type] 記事のプレビューで作成される一時ファイルの出力先を変更する方法'
published: true
date: 2017-04-22 17:45:52
updated: 2017-04-22 17:45:52
slug: 20170422174552.html
categories:
  - 開発
tags:
  - Movable Type
---
## 概要
アーカイブテンプレートとして設定されている記事のプレビューの出力先を動的に変更する
※ インデックステンプレートではない

## 設定方法
記事のテンプレートのアーカイブパスを以下のように変更する。

```
<mt:if name="request.__mode" eq="preview_entry">tmp/<mt:else>blog/</mt:if>%y/%m/%-f
```

`%y/%m/%-f`らへんは任意。要は、`<mt:if>`で出力するディレクトリを出し分けする。

### 出力結果
前述の設定した場合、プレビュー時の一時ファイルは以下になり、
```
tmp/2017/04/mt-preview***.html
```

公開時は以下に保存される。
```
blog/2017/04/blog-title.html
```