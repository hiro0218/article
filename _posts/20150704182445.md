---
ID: 2054
title: ブログが謎のサイトにコピーされた時の対処方法
date: 2015-07-04 18:24:45
updated: 2015-10-08 14:48:42
tags:
  - 調査
  - JavaScript
  - Google
---

## きっかけ

ブログが謎のサイトにコピーされたので対処しておいた。

たまたま、サイトのドメイン（**b.0218.jp**）をGoogle検索したところコピーサイトを発見。

## 状況

### コピーサイトの状況

コピーサイトは、単に本文がコピーされたというよりも、サイト全体のレイアウトがそのまま模倣されている。これはスクレイピングと呼ばれる技術で、ウェブサイトのデータを自動で取得する手法を使用している可能性があった。

また、こちらのブログの新規投稿が、コピーサイトにもすぐに反映されている。さらに、CSSやJavaScriptなどのリソースも直リンクで利用されている。

コピーサイトのURLは以下のような形式になっている。

```
https://コピーサイトのドメイン/b.0218.jp/～.html
```

### 自サイト

- RSS配信は全文配信ではなく、抜粋のみを配信している
- サーバー側で特にアクセス制限は行っていない

## 対応方法

いくつかの対応方法を検討したが、以下の理由で実行には至らなかった。

### サーバ側でリソースの直リンクを防ぐ

根本的な解決にはならない。

コピーサイトがリソースの直リンクを避ける対策をした場合、再び同じ問題が発生する。

### 直リンクされているリソースの名称を変更する

この方法も、コピーサイトが名称変更に追従してくるため、効果が薄いと考えられた。

## 簡単な対応策

労力をかけすぎるのもバカらしいので、簡単な方法で対処することにした。具体的には、自サイトのドメインでない場合にリダイレクトを行うスクリプトを実装した。

### 実装内容

```js
switch (location.hostname) {
  case 'localhost':
  case 'b.0218.jp':
    break;
  default:
    location.href = 'https://b.0218.jp/';
    break;
}
```

このコードでは、まず`hostname`を取得する。`localhost`または自サイトのドメイン（`b.0218.jp`）でない場合、強制的に自サイトのURLにリダイレクトする仕組みだ。このように、簡単な対応策でコストを抑えつつ、効果的にコピーサイトへのアクセスを制限できる。

## Googleに通報する

Googleに対して、著作権侵害による削除申請を行うことも可能である。

[著作権侵害による削除](https://www.google.com/webmasters/tools/dmca-notice)から、Googleの著作権侵害フォームに通報しておいた。

---

<s>通報して数週間経つが返事はまだない。</s>
Googleから返事がないまま、パクりサイトが消えた。
