---
ID: 3073
post_title: '[Slick.js] 実行完了後にautoplayなどのオプションを有効にする方法'
published: true
post_date: 2017-05-17 16:42:08
modified_date: 2017-05-17 16:42:08
slug: 20170517164208.html
categories: |
  ---
  - !php/object "O:7:\"WP_Term\":16:{s:7:\"term_id\";i:383;s:4:\"name\";s:6:\"jQuery\";s:4:\"slug\";s:6:\"jquery\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:401;s:8:\"taxonomy\";s:8:\"category\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:16;s:6:\"filter\";s:3:\"raw\";s:6:\"cat_ID\";i:383;s:14:\"category_count\";i:16;s:20:\"category_description\";s:0:\"\";s:8:\"cat_name\";s:6:\"jQuery\";s:17:\"category_nicename\";s:6:\"jquery\";s:15:\"category_parent\";i:0;}"
  ...
tags: |
  ---
  - !php/object "O:7:\"WP_Term\":10:{s:7:\"term_id\";i:56;s:4:\"name\";s:6:\"jQuery\";s:4:\"slug\";s:6:\"jquery\";s:10:\"term_group\";i:0;s:16:\"term_taxonomy_id\";i:57;s:8:\"taxonomy\";s:8:\"post_tag\";s:11:\"description\";s:0:\"\";s:6:\"parent\";i:0;s:5:\"count\";i:25;s:6:\"filter\";s:3:\"raw\";}"
  ...
---
## 状況
slickの実行完了のタイミングで`autoplay`を有効にしたい。

### 環境
* Slick.js - Version: 1.6.0


### slickSetOptionを使う
後付でオプションを設定する場合は、`slickSetOption`を実行すれば良い。

```language-javascript
$(&#039;.js-slick&#039;).slick(&#039;slickSetOption&#039;, &#039;autoplay&#039;, true, true);
```


## 問題
タイミングとして、`init`のタイミングでオプションを指定したかった為、以下のような実装を行った。

```language-javascript
$(&#039;.js-slick&#039;).on(&#039;init&#039;, function(event, slick) {
  $(this).slick(&#039;slickSetOption&#039;, &#039;autoplay&#039;, true, true);
});
```

だが、このタイミングで`slickSetOption`を実行しても、`slickSetOption`が `undefined` となり処理できなかった。


## 解決
> anyone still dealing with this: I seemed to have some success with wrapping my API call in a setTimeout(method, 0). Bummer of a bug.
[Calling a method right after the “init” event causes an error · Issue #1802 · kenwheeler/slick · GitHub](https://github.com/kenwheeler/slick/issues/1802)

参考に以下のような処理を行った。

```language-javascript
$(&#039;.js-slick&#039;).on(&#039;init&#039;, function(event, slick) {
  var $self = $(this);
  setTimeout(function() {
    $self.slick(&#039;slickSetOption&#039;, &#039;autoplay&#039;, true, true);
  }, 0);
});
```