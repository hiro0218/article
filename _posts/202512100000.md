---
title: '[CSS] inline/inline-block要素間の余白問題と解決方法'
date: 2025-12-09T15:00:00Z
updated:
tags:
  - CSS
  - HTML
---

## 概要

`display: inline`または`display: inline-block`の要素間に意図しない余白が生じる。これはHTMLの仕様上の挙動である。

## 発生条件

以下の条件で発生する。

1. `display`が`inline`または`inline-block`（`<span>`、`<a>`、`<img>`、`<iframe>`など）
2. HTMLソースコード上で要素間に改行・空白・インデントが存在

### 例

```html
<ul class="nav">
  <li>ホーム</li>
  <li>製品</li>
  <li>お問い合わせ</li>
</ul>
```

```css
.nav li {
  display: inline-block;
  padding: 10px 20px;
  background: #eee;
}
```

<figure>
<iframe srcdoc='<style>
body { display: grid; place-items: center; height: 100vh; margin: 0; }
li {
  display: inline-block;
  padding: 10px 20px;
  background: #eee;
}
</style>
<ul>
  <li>ホーム</li>
  <li>製品</li>
  <li>お問い合わせ</li>
</ul>'
style="width:100%; height:100px; border:none;"
></iframe>
<figcaption>横並びレイアウトで余白が発生する例</figcaption>
</figure>

このコードでは各`<li>`要素の間に数pxの隙間が生じる。

## 原因

HTMLでは**要素間の改行・空白・タブはテキストノードとして解釈される**。

```html
<li>ホーム</li>
<li>製品</li>
<li>お問い合わせ</li>
```

上記の`</li>`と`<li>`の間にある改行とインデントは、ブラウザで空白文字として認識される。インライン要素はテキストと同じ文脈で描画されるため、この空白文字が**単語間スペース**として表示される。

空白の幅は親要素の`font-size`と`font-family`に依存する。

## 発生するケース

FlexboxやGridが主流の現在でも、以下の状況で発生する。

| ケース                      | 具体例                                                 |
| --------------------------- | ------------------------------------------------------ |
| レガシーコードの保守        | 既存プロジェクトで`inline-block`レイアウトが残っている |
| テキストとの混在            | 文中にアイコンやバッジをインラインで配置               |
| 既存CSSフレームワークの利用 | 古いフレームワークやライブラリに依存                   |
| 意図的な使用                | テキストの折り返しに追従させたい場合など               |

## 解決策

<iframe srcdoc='<style>
body { display: grid; place-items: center; height: 100vh; margin: 0; }
ul { display: flex; }
li {
  display: inline-block;
  padding: 10px 20px;
  background: #eee;
}
</style>
<ul>
  <li>ホーム</li>
  <li>製品</li>
  <li>お問い合わせ</li>
</ul>'
style="width:100%; height:100px; border:none;"
></iframe>

### 1. Flexbox / Grid を使用

フレックス／グリッドコンテナでは空白テキストは折り畳まれるため視覚的な隙間が発生しない。

```css
.nav {
  display: flex;
}
```

横並びレイアウトであれば、この方法を優先するとよい。

### 2. 親要素に `font-size: 0` を指定

空白文字の幅を0にする方法である。ただし、子要素で`font-size`を再指定する必要がある。
これは古くからある方法で、FlexboxやGridが普及する前によく使われていた。

```css
.nav {
  font-size: 0;
}
.nav li {
  display: inline-block;
  font-size: 16px; /* リセット */
}
```

空白の幅は`font-size`に依存するため、これで解消できる。

**注意点**

- `em`や`%`で指定されたフォントサイズは継承により0になるため、絶対値での再指定が必要
- コードの可読性が下がる
- スクリーンリーダーの読み上げには影響しないが、継承値を持つプロパティ（`line-height`など）に注意が必要

### 3. HTMLから空白を除去

次のようにソースコード上で空白がなければ発生しない。

**要素を1行で記述:**

<!-- prettier-ignore -->
```html
<ul class="nav"><li>ホーム</li><li>製品</li><li>お問い合わせ</li></ul>
```

問題になる空白がなくなるように改行をなくす。ただ、フォーマッターの影響で再び改行が入る可能性もある。

**コメントで改行を吸収:**

<!-- prettier-ignore -->
```html
<ul class="nav">
     <li>ホーム</li><!--
  --><li>製品</li><!--
  --><li>お問い合わせ</li>
</ul>
```

可読性をある程度保ちつつ、空白を除去できる。

**終了タグの省略（`<li>` の場合は有効）:**

<!-- prettier-ignore -->
```html
<ul class="nav">
  <li>ホーム
  <li>製品
  <li>お問い合わせ
</ul>
```

要素によっては仕様上は有効だが静的解析ツールや可読性の観点、また保守する場合に修正が必要になってくるケースも多くなるため実務では避けるのが無難である。

---

いずれも可読性が低下するため、手動での記述は推奨されない。ただし、ビルドプロセスでテンプレートを自動圧縮する環境であれば、出力HTMLとして使用する選択肢はある。

## 解決策の比較

| 方法           | メリット             | デメリット               |
| -------------- | -------------------- | ------------------------ |
| Flexbox / Grid | 副作用なし           | レイアウトモデルが変わる |
| `font-size: 0` | 既存構造を維持できる | 子要素でリセットが必要   |
| HTML空白除去   | CSS変更不要          | 可読性が低下             |

## まとめ

`inline`および`inline-block`要素間の空白問題は、HTMLが空白文字をテキストノードとして扱う仕様に起因する。現在ではFlexboxやGridの普及により遭遇頻度は減ったものの、レガシーコードの保守やインライン要素を意図的に使う場面では依然として発生する。

新規実装であれば`display: flex`または`display: grid`を採用することを推奨する。既存コードへの対処が必要な場合は、コードの文脈に応じて`font-size: 0`やHTML修正を検討するとよい。

## 参考文献

- [MDN - Whitespace in the DOM](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Whitespace) - HTMLにおける空白文字の扱い
- [CSS-Tricks - Fighting the Space Between Inline Block Elements](https://css-tricks.com/fighting-the-space-between-inline-block-elements/)
- [W3C CSS Flexbox Layout Module Level 1](https://www.w3.org/TR/css-flexbox-1/)
- [W3C CSS Grid Layout Module Level 1](https://www.w3.org/TR/css-grid-1/)
- [WHATWG HTML Standard - Optional tags](https://html.spec.whatwg.org/multipage/syntax.html#optional-tags) - HTML要素の終了タグ省略に関する仕様
